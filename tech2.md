## 核心服务能力

### 1. 智能对话引擎
- **流式输出**: 采用SSE技术实现大模型输出的实时流式响应
- **多模型支持**: 集成多种LLM模型，包括Qwen2.5-72B-Instruct等
- **用户配置化**: 用户可自定义模型参数(温度、top_p、top_k等)
- **错误恢复机制**: 对话中断自动恢复，异常情况优雅降级

### 2. B站内容服务
- **视频搜索增强**: 支持关键词搜索、联想词优化、内容筛选
- **UP主资料获取**: 查询UP主粉丝数、视频数量、是否为"百大"UP主
- **代表作品推荐**: 获取UP主的代表性作品并展示统计数据
- **课程内容查询**: 支持B站付费/免费课程的详情获取

### 3. MCP工具框架
- **标准化协议实现**: 基于Model Context Protocol实现工具调用
- **工具动态注册**: 支持通过管理面板动态配置和管理工具
- **跨平台工具支持**: 同时支持JavaScript和Python实现的工具服务
- **工具调用状态跟踪**: 完整记录工具调用过程和状态

### 4. 情感化表达系统
- **表情包资源库**: 支持13种情绪(0-12)的多样化表情包
- **随机化表现**: 每种情绪有多个表情变体(GIF/WebP)
- **情境感知选择**: 根据对话上下文自动选择合适的表情包
- **阿里云OSS集成**: 高效存储和分发表情包资源

## 架构与技术详情

### 数据持久化设计
- **完整ORM映射**: 使用Sequelize管理数据库实体关系
- **数据库迁移体系**: 支持版本化的数据库架构管理
- **种子数据机制**: 环境差异化的初始数据填充
- **关系模型设计**: 对话(Conversation)→交互(Interaction)→消息(Message)的完整链路

### 安全架构
- **JWT认证**: 基于非对称加密的安全令牌体系
- **密码加盐哈希**: 使用bcrypt实现安全的密码存储
- **输入验证**: 完整的请求参数验证和清洁
- **CORS保护**: 可配置的跨域资源共享控制

### 管理功能
- **管理面板**: 基于Vue的SPA管理界面，支持深色/浅色主题
- **系统监控**: 实时监控CPU、内存、磁盘、网络等系统资源
- **用户管理**: 管理用户账号、权限和状态
- **MCP配置管理**: 可视化管理工具配置，支持添加/编辑/删除

## 特色功能

### 1. 智能搜索优化
- **关键词联想**: 通过`biliSearch_get_extra_keywords`获取搜索建议
- **多维度搜索**: 支持标题、UP主、标签等多维度搜索
- **结果筛选**: 基于统计数据的搜索结果优化排序

### 2. 上下文理解
- **对话历史管理**: 精确追踪和恢复多轮对话上下文
- **情境感知回复**: 根据对话历史调整回复风格和内容
- **动态工具选择**: 基于对话上下文智能选择合适的工具

### 3. 系统集成能力
- **Docker容器化**: 完整的容器化支持，简化部署流程
- **环境隔离**: 支持开发、测试、生产三种环境配置
- **API扩展性**: 设计用于连接更多外部系统和服务

## 部署与维护

### 环境要求
- Node.js运行环境
- MySQL数据库 (默认端口3308)
- Python环境 (用于B站搜索等功能)
- 外部服务API密钥配置:
  - 硅基流动 (LLM服务)
  - 阿里云OSS (表情包存储)
  - 百度千帆AppBuilder (搜索服务)

### 监控与日志
- 完整的错误捕获和日志记录机制
- 系统状态实时监控
- 对话和工具调用完整历史记录

---

本项目采用微服务架构设计，支持横向扩展，未来将发展为多平台统一管理中心，实现子系统甚至跨系统的信息流通与协作。
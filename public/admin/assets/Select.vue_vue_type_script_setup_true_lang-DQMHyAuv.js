var e=e=>{throw TypeError(e)},t=(t,r,a)=>(((t,r,a)=>{r.has(t)||e("Cannot "+a)})(t,r,"read from private field"),a?a.call(t):r.get(t));import{d as r,z as a,l as n,C as o,n as l,v as i,a1 as s,r as u,c,X as d,aE as p,q as f,i as v,aF as m,W as h,aG as y,w as b,p as g,ad as $,o as A,I as w,ae as S,e as E,aw as z,av as B,D as O,h as I,F as j,H as x,al as C,ag as _,ah as V}from"./index-CL7ZJe9m.js";const M=r({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup:e=>(e,t)=>(n(),a(i(s),{as:e.as,"as-child":e.asChild,"aria-hidden":"focusable"===e.feature?"true":void 0,"data-hidden":"fully-hidden"===e.feature?"":void 0,tabindex:"fully-hidden"===e.feature?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:o((()=>[l(e.$slots,"default")])),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))});function R(e){return"string"==typeof e?`'${e}'`:(new T).serialize(e)}const T=function(){var r;class a{constructor(){var t,a,n;t=this,a=r,n=new Map,a.has(t)?e("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(t):a.set(t,n)}compare(e,t){const r=typeof e,a=typeof t;return"string"===r&&"string"===a?e.localeCompare(t):"number"===r&&"number"===a?e-t:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(t,!0))}serialize(e,t){if(null===e)return"null";switch(typeof e){case"string":return t?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const t=Object.prototype.toString.call(e);if("[object Object]"!==t)return this.serializeBuiltInType(t.length<10?`unknown:${t}`:t.slice(8,-1),e);const r=e.constructor,a=r===Object||void 0===r?"":r.name;if(""!==a&&globalThis[a]===r)return this.serializeBuiltInType(a,e);if("function"==typeof e.toJSON){const t=e.toJSON();return a+(null!==t&&"object"==typeof t?this.$object(t):`(${this.serialize(t)})`)}return this.serializeObjectEntries(a,Object.entries(e))}serializeBuiltInType(e,t){const r=this["$"+e];if(r)return r.call(this,t);if("function"==typeof(null==t?void 0:t.entries))return this.serializeObjectEntries(e,t.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,t){const r=Array.from(t).sort(((e,t)=>this.compare(e[0],t[0])));let a=`${e}{`;for(let n=0;n<r.length;n++){const[e,t]=r[n];a+=`${this.serialize(e,!0)}:${this.serialize(t)}`,n<r.length-1&&(a+=",")}return a+"}"}$object(e){let a=t(this,r).get(e);return void 0===a&&(t(this,r).set(e,`#${t(this,r).size}`),a=this.serializeObject(e),t(this,r).set(e,a)),a}$function(e){const t=Function.prototype.toString.call(e);return"[native code] }"===t.slice(-15)?`${e.name||""}()[native]`:`${e.name}(${e.length})${t.replace(/\s*\n\s*/g,"")}`}$Array(e){let t="[";for(let r=0;r<e.length;r++)t+=this.serialize(e[r]),r<e.length-1&&(t+=",");return t+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort(((e,t)=>this.compare(e,t))))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}r=new WeakMap;for(const e of["Error","RegExp","URL"])a.prototype["$"+e]=function(t){return`${e}(${t})`};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])a.prototype["$"+e]=function(t){return`${e}[${t.join(",")}]`};for(const e of["BigInt64Array","BigUint64Array"])a.prototype["$"+e]=function(t){return`${e}[${t.join("n,")}${t.length>0?"n":""}]`};return a}();function k(e){return null==e}function N(){const e=u(),t=c((()=>{var t,r;return["#text","#comment"].includes(null==(t=e.value)?void 0:t.$el.nodeName)?null==(r=e.value)?void 0:r.$el.nextElementSibling:d(e)}));return{primitiveElement:e,currentElement:t}}function P(e){return c((()=>{var t;return!p(e)||Boolean(null==(t=d(e))?void 0:t.closest("form"))}))}const q="data-reka-collection-item";function F(e={}){const{key:t="",isProvider:a=!1}=e,n=`${t}CollectionProvider`;let o;if(a){const e=u(new Map),t=u();o={collectionRef:t,itemMap:e},g(n,o)}else o=f(n);const l=r({name:"CollectionSlot",setup(e,{slots:t}){const{primitiveElement:r,currentElement:a}=N();return b(a,(()=>{o.collectionRef.value=a.value})),()=>h(y,{ref:r},t)}}),i=r({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(e,{slots:t,attrs:r}){const{primitiveElement:a,currentElement:n}=N();return v((t=>{if(n.value){const r=m(n.value);o.itemMap.value.set(r,{ref:n.value,value:e.value}),t((()=>o.itemMap.value.delete(r)))}})),()=>h(y,{...r,[q]:"",ref:a},t)}});return{getItems:(e=!1)=>{const t=o.collectionRef.value;if(!t)return[];const r=Array.from(t.querySelectorAll(`[${q}]`)),a=Array.from(o.itemMap.value.values()).sort(((e,t)=>r.indexOf(e.ref)-r.indexOf(t.ref)));return e?a:a.filter((e=>""!==e.ref.dataset.disabled))},reactiveItems:c((()=>Array.from(o.itemMap.value.values()))),itemMapSize:c((()=>o.itemMap.value.size)),CollectionSlot:l,CollectionItem:i}}const[U,D]=$("PopperRoot"),W=r({inheritAttrs:!1,__name:"PopperRoot",setup(e){const t=u();return D({anchor:t,onAnchorChange:e=>t.value=e}),(e,t)=>l(e.$slots,"default")}});function H(e){const t=u(),r=c((()=>{var e;return(null==(e=t.value)?void 0:e.width)??0})),a=c((()=>{var e;return(null==(e=t.value)?void 0:e.height)??0}));return A((()=>{const r=d(e);if(r){t.value={width:r.offsetWidth,height:r.offsetHeight};const e=new ResizeObserver((e=>{if(!Array.isArray(e))return;if(!e.length)return;const a=e[0];let n,o;if("borderBoxSize"in a){const e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,o=t.blockSize}else n=r.offsetWidth,o=r.offsetHeight;t.value={width:n,height:o}}));return e.observe(r,{box:"border-box"}),()=>e.unobserve(r)}t.value=void 0})),{width:r,height:a}}function G(e,t=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY){return Math.min(r,Math.max(t,e))}const J=r({__name:"BubbleSelect",props:{autocomplete:{},autofocus:{type:Boolean},disabled:{type:Boolean},form:{},multiple:{type:Boolean},name:{},required:{type:Boolean},size:{},value:{}},setup(e){const t=e,r=u();return b((()=>t.value),((e,t)=>{const a=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(a,"value").set;if(e!==t&&n&&r.value){const t=new Event("change",{bubbles:!0});n.call(r.value,e),r.value.dispatchEvent(t)}})),(e,s)=>(n(),a(i(M),{"as-child":""},{default:o((()=>[w("select",S({ref_key:"selectElement",ref:r},t),[l(e.$slots,"default")],16)])),_:3}))}}),L=[" ","Enter","ArrowUp","ArrowDown"],Y=[" ","Enter"],X=10;function K(e,t,r){return void 0!==e&&(Array.isArray(e)?e.some((e=>Q(e,t,r))):Q(e,t,r))}function Q(e,t,r){return void 0!==e&&void 0!==t&&("string"==typeof e?e===t:"function"==typeof r?r(e,t):"string"==typeof r?(null==e?void 0:e[r])===(null==t?void 0:t[r]):(a=e)===(n=t)||R(a)===R(n));var a,n}const Z={key:0,value:""},[ee,te]=$("SelectRoot"),re=r({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{default:void 0},by:{},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(e,{emit:t}){const r=e,s=t,{required:d,disabled:p,multiple:f,dir:v}=E(r),m=z(r,"modelValue",s,{defaultValue:r.defaultValue??(f.value?[]:void 0),passive:void 0===r.modelValue,deep:!0}),h=z(r,"open",s,{defaultValue:r.defaultOpen,passive:void 0===r.open}),y=u(),b=u(),g=u({x:0,y:0}),$=c((()=>{var e;return f.value&&Array.isArray(m.value)?0===(null==(e=m.value)?void 0:e.length):k(m.value)}));F({isProvider:!0});const A=B(v),w=P(y),C=u(new Set),_=c((()=>Array.from(C.value).map((e=>e.value)).join(";")));return te({triggerElement:y,onTriggerChange:e=>{y.value=e},valueElement:b,onValueElementChange:e=>{b.value=e},contentId:"",modelValue:m,onValueChange:function(e){if(f.value){const t=Array.isArray(m.value)?[...m.value]:[],a=t.findIndex((t=>Q(t,e,r.by)));-1===a?t.push(e):t.splice(a,1),m.value=[...t]}else m.value=e},by:r.by,open:h,multiple:f,required:d,onOpenChange:e=>{h.value=e},dir:A,triggerPointerDownPosRef:g,disabled:p,isEmptyModelValue:$,optionsSet:C,onOptionAdd:e=>C.value.add(e),onOptionRemove:e=>C.value.delete(e)}),(e,t)=>(n(),a(i(W),null,{default:o((()=>[l(e.$slots,"default",{modelValue:i(m),open:i(h)}),i(w)?(n(),a(J,{key:_.value,"aria-hidden":"true",tabindex:"-1",multiple:i(f),required:i(d),name:e.name,autocomplete:e.autocomplete,disabled:i(p),value:i(m)},{default:o((()=>[i(k)(i(m))?(n(),I("option",Z)):O("",!0),(n(!0),I(j,null,x(Array.from(C.value),(e=>(n(),I("option",S({key:e.value??"",ref_for:!0},e),null,16)))),128))])),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):O("",!0)])),_:3}))}}),ae=r({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},by:{type:[String,Function]},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(e,{emit:t}){const r=C(e,t);return(e,t)=>(n(),a(i(re),_(V(i(r))),{default:o((()=>[l(e.$slots,"default")])),_:3},16))}});export{X as C,L as O,Y as S,ae as _,ee as a,F as b,G as c,N as d,M as e,P as f,U as i,te as p,H as u,K as v};
